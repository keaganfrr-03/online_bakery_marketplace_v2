{% extends "base_vendor.html" %}
{% block title %}Customer List{% endblock %}

{% block vendor_content %}
<h1 class="mb-4">Customers</h1>

{% if customers %}
<table class="table table-hover">
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Total Orders</th>
      <th>Total Spent</th>
      <th>Last Order</th>
    </tr>
  </thead>
  <tbody>
    {% for customer in customers %}
    <tr>
      <td>{{ customer.get_full_name }}</td>
      <td>{{ customer.email }}</td>
      <td>{{ customer.profile.phone }}</td>
      <td>{{ customer.total_orders }}</td>
      <td>R{{ customer.total_spent|default:0 }}</td>
      <td>{{ customer.last_order|date:"Y-m-d" }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>No customers found.</p>
{% endif %}
{% endblock %}
